{% comment %}
  Size Filter Mobile Snippet for StyleMode Theme
  Displays a visual size selector for filtering products by size on mobile devices
{% endcomment %}

<details
  id="Details-Mobile-{{ filter.param_name | escape }}-{{ section_id }}"
  class="mobile-facets__details js-filter"
  data-index="mobile-{{ forloop_index }}"
>
  <summary class="mobile-facets__summary focus-inset">
    <div>
      <span>{{ filter.label }}</span>
      <span class="mobile-facets__arrow no-js-hidden">
        {% render 'icon-arrow' %}
      </span>
      <noscript>{% render 'icon-caret' %}</noscript>
    </div>
  </summary>
  <div id="FacetMobile-{{ filter.param_name | escape }}-{{ section_id }}" class="mobile-facets__submenu">
    <button class="mobile-facets__close-button link link--text focus-inset" aria-expanded="true" type="button">
      {% render 'icon-close' %}
      {{ filter.label }}
    </button>
    <ul class="mobile-facets__list" role="list">
      {%- for filter_value in filter.values -%}
        <li class="mobile-facets__item list-menu__item">
          <label for="Filter-{{ filter.param_name }}-mobile-{{ forloop.index }}" class="mobile-facets__label{% if filter_value.active %} mobile-facets__label--active{% endif %}{% if filter_value.count == 0 and filter_value.active == false %} mobile-facets__label--disabled{% endif %}">
            <input class="mobile-facets__checkbox" type="checkbox" name="{{ filter_value.param_name }}" value="{{ filter_value.value }}" id="Filter-{{ filter.param_name }}-mobile-{{ forloop.index }}"
              {% if filter_value.active %}checked{% endif %}
              {% if filter_value.count == 0 and filter_value.active == false %}disabled{% endif %}
            >

            <span class="mobile-facets__highlight"></span>

            <svg class="icon icon-checkmark" width="12" height="9" viewBox="0 0 12 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.35.643a.5.5 0 01.006.707l-6.77 6.886a.5.5 0 01-.719-.006L.638 4.845a.5.5 0 11.724-.69l2.872 3.011 6.41-6.517a.5.5 0 01.707-.006h-.001z" fill="currentColor"/>
            </svg>

            <span class="mobile-facets__highlight"></span>

            <span class="mobile-facets__text">
              {{ filter_value.label }}
              {% if filter_value.count != 0 or filter_value.active %}
                <span class="mobile-facets__count">({{ filter_value.count }})</span>
              {% endif %}
            </span>
          </label>
        </li>
      {%- endfor -%}
    </ul>

    <div class="no-js-hidden mobile-facets__footer">
      <facet-remove class="mobile-facets__clear-wrapper">
        <a href="{{ filter.url_to_remove }}" class="mobile-facets__clear underlined-link">{{ 'filters.clear' | t }}</a>
      </facet-remove>
      <button type="button" class="no-js-hidden mobile-facets__show-results">
        {{ 'filters.show_results' | t }}
      </button>
    </div>
  </div>
</details>